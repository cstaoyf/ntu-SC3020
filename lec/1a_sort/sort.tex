\documentclass{beamer}

\usetheme{Warsaw}
%\usetheme{CambridgeUS}

\input{./def/yf-beamer.tex}
\usepackage{color}
\usepackage{graphicx}
\usepackage{multirow}
\usepackage{wrapfig}
\usepackage[skins,breakable]{tcolorbox}

\def\done{\hfill$\square$}
\def\ttt{\texttt}
\def\vgap{\vspace{5mm}}

\title[DATABASE SYSTEM PRINCIPLES]{Query Processing 2:\\ I/O-Efficient Sorting}

\author[Yufei Tao@NTU]{Yufei Tao}
\institute[]{}
\date{}

% \def\dtm{\mathit{d\mbox{-}tm}}
% \def\ftm{\mathit{f\mbox{-}tm}}
\def\bestext{\mathit{best\mbox{-}ext}}

\begin{document}
%-------------------------------------------------------------
\begin{frame}
    \titlepage
%     \begin{tcolorbox}[arc=0mm, colframe=green!50!black, colback=green!10!white] 
%     \end{tcolorbox}
\end{frame}
%-------------------------------------------------------------
\begin{frame}
\begin{small}
    Sorting is a fundamental operation in database systems. This lecture will introduce an algorithm for sorting \bred{disk-resident} data with a small \bred{I/O cost}.

    %\vgap
\end{small}    
\end{frame}
%-------------------------------------------------------------
\myfrm{
    \xmybox{(Disk-Based) Sorting}

    \vgap

    $\red{R}$: a set of elements on which a total order exists. \\
    $\red{B}(R) =$ the number of disk blocks that $R$ occupies. \\
    $\red{M} =$ the number of memory blocks (a.k.a., the buffer blocks). \\

    \vgap

    \blue{Goal:} Produce a sorted list of the elements in $R$ on disk.

    \vgap

    \cbox{blue}{
        \blue{Think:} Why not use a ``memory-sorting'' algorithm such as merge sort or quick sort?
    }
}
%-------------------------------------------------------------
\myfrm{
    Next, we will take a ``detour'' to discuss a stand-alone problem called \bred{merging}. As we will see, a fast algorithm for merging implies a fast algorithm for sorting.
}
%-------------------------------------------------------------
\myfrm{
    \xmybox{(Disk-Based) Merging}

    \vgap

    $\red{M} =$ the number of memory blocks (a.k.a., the buffer blocks). \\
    We have $\red{R_1}, \red{R_2}, ..., \red{R_{M-1}}$ where
    \myitems{
        \item all the elements in $R_1, ..., R_{M-1}$ are from a total order;
        \item $R_1, ..., R_{M-1}$ are mutually disjoint;
        \item each $R_i$ ($1 \le i \le M-1$) is \bred{sorted}.
    }
    For each $\red{i} \in [1, M-1]$, denote by $\red{B}(R_i)$ the number of disk blocks that $R_i$ occupies.

    \vgap

    \blue{Goal:} Produce a sorted list of $R_1 \cup R_2 \cup ... \cup R_{M-1}$ on disk.
}
%-------------------------------------------------------------
\end{document} 
